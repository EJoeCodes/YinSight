<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>YinSight</title>
  <link rel="stylesheet" href="/static/style.css" />
  <link rel="preload" as="image" href="/static/images/yinspun.png" />
  <link rel="preload" as="font" href="/static/fonts/Lora/Lora-Italic-VariableFont_wght.woff2" type="font/woff2" crossorigin="anonymous" />
  <link rel="preload" as="font" href="/static/fonts/IMFell/IMFellEnglishSC-Regular.woff2" type="font/woff2" crossorigin="anonymous" />
</head>
<body id="main-body">

  <header class="nav-bar">
    <a class="link" onclick="showNews('good')">Good</a>

    <div class="symbol-wrapper">
      <img
        id="yinYang"
        class="symbol"
        src="/static/images/yinyang.png"
        alt="Yin-Yang Symbol"
        style="transform: rotate(0deg);" />
    </div>

    <a class="link" onclick="showNews('bad')">Bad</a>
  </header>

  <div id="news"></div>

  <script>
    const newsData = {
      good: [
        "Local community raises thousands for shelter animals.",
        "Scientists discover breakthrough in clean energy.",
        "Graduation rates hit all-time high nationwide."
      ],
      bad: [
        "Global warming reports show alarming trends.",
        "Economic inflation spikes in several countries.",
        "Cyberattack disrupts hospital systems across states."
      ]
    };

    let currentRotation = 0;
    let isWhiteOnTop = true;
    let hasSwitchedImage = false;

    function showNews(type) {
      const newsDiv = document.getElementById('news');
      const body = document.getElementById('main-body');
      const yinYang = document.getElementById('yinYang');

      newsDiv.style.display = 'block';
      newsDiv.innerHTML = '';

      if (!hasSwitchedImage) {
        yinYang.src = "/static/images/yinspun.png";
        hasSwitchedImage = true;
      }

      const targetRotation = (type === 'good') ? 0 : 180;
      currentRotation += 720 + targetRotation;
      yinYang.style.transform = `rotate(${currentRotation}deg)`;
      isWhiteOnTop = (type === 'good');

      if (type === 'good') {
        body.classList.add('yang-theme');
        body.classList.remove('yin-theme');
      } else {
        body.classList.add('yin-theme');
        body.classList.remove('yang-theme');
      }

      newsData[type].forEach(item => {
        const div = document.createElement('div');
        div.className = 'news-item';
        div.textContent = item;
        newsDiv.appendChild(div);
      });
    }
  </script>

</body>
</html>